# 爬取任务管理设计文档

标签（空格分隔）： 设计文档

---
  

### 一、DB设计


#### 任务表（tv3_gis_crawl_task）

| 字段名        | 类型   |  说明  |
| --------   | -----  | ----  |
| int_id        |   INTEGER   |   任务编号   |
| task_name     |   VARCHAR2(100)  |   任务名称   |
| task_state     |   INTEGER  |   任务状态（-2立即执行,-1中断，0未执行，1执行中，2已执行）   |
| task_type        |   INTEGER   |  任务类型（1poi爬取,2地理图元爬取,3图层文件上传）   |
| task_data_handle_type        |   INTEGER   |   任务数据处理类型（1新增未存在的信息，2更新爬取的全部信息）   |
| task_grid_num     |   INTEGER  |   任务栅格总数量   |
| task_end_grid_num     |   INTEGER  |   任务当前已爬取栅格数量   |
| break_region_order        |   INTEGER   |   中断地市序号   |
| break_grid_order        |   INTEGER   |   中断地市栅格序号   |
| break_subtype_order        |   INTEGER   |   中断类型序号   |
| break_batch_num        |   INTEGER   |   中断批次号   |
| start_date        |   date   |   开始时间   |
| end_date        |   date   |   结束时间   |
| update_date        |   date   |   更新时间   |
| CREATE_USERID        |   VARCHAR2(100)   |   创建人编号   |
| CREATE_USERNAME        |   VARCHAR2(100)   |   创建人名称   |
| crawl_query_names        |   CLOB   |   爬取名称（多名称用逗号隔开）   |




#### 任务地市关联表（tv3_gis_crawl_task_region）
| 字段名        | 类型   |  说明  |
| --------   | -----  | ----  |
| int_id        |   INTEGER   |   编号   |
| task_id        |   INTEGER   |   任务编号   |
| region_name        |   VARCHAR2(100)   |   地市名称   |
| region_id        |   INTEGER   |   地市编号   |
| order_num        |   INTEGER   |   地市序号   |






#### 任务网优类型关联表（tv3_gis_crawl_task_sty）
| 字段名        | 类型   |  说明  |
| --------   | -----  | ----  |
| int_id        |   INTEGER   |   编号   |
| task_id        |   INTEGER   |   任务编号   |
| poi_type_name        |   VARCHAR2(50)   |   POI类型名称   |
| poi_type_id        |   INTEGER   |   POI类型编号ID   |
| scene_type_name        |   VARCHAR2(50)   |   网优场景类型   |
| scene_type_id        |   INTEGER   |   网优场景编号ID   |
 | order_num        |   INTEGER   |   场景序号   |








 

